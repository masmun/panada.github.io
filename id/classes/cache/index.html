<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Panada PHP Framework 1.1.0 Documentation - Database Configuration</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="../../../bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
<!--[if lt IE 9]>
  <script src="http://html5shim.googlepre.com/svn/trunk/html5.js"></script>
<![endif]-->
</head>
<body>
<div class="navbar navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="http://panadaframework.com/" style="padding: 10px 20px 0px;"><img src="../../../images/logosimple.png"></a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="http://panadaframework.com/">Home</a></li>
	      <li><a href="https://github.com/panada/Panada">Source</a></li>
		<li class="active"><a href="http://panadaframework.com/documentation/id/">Doc</a></li>
		<li><a href="https://github.com/panada/Panada">Help and Report</a></li>
		<li><a href="http://panadaframework.com/blog/">Blog</a></li>
		<li><a href="http://twitter.com/panadaframework">Twitter</a></li>
            </ul>
            <form class="navbar-form pull-right" action="http://www.google.com/search" method="get">
                <input type="hidden" value="panadaframework.com/documentation/" id="as_sitesearch" name="as_sitesearch">
                <div class="input-append">
                    <input class="span2" id="appendedInputButton" type="text" name="q" placeholder="Search...">
                    <button class="btn" type="button"><i class="icon-search"></i></button>
                </div>
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
</div>
<div class="container-fluid">
    <div class="page-header">
        <h1>Panada Framework 1.1.0 Documentation</h1>
    </div>
    <div class="row-fluid">
        <div class="span3">
            <div class="sidebar-nav">
                <ul class="nav nav-list">
                    <li class="nav-header"><a href="../../index.html" class="muted">Umum</a></li>
                    <li><a href="../../index.html#about">Tentang Panada</a></li>
                    <li><a href="../../index.html#feature">Keunggulan (<em>Feature</em>)</a></li>
                    <li><a href="../../index.html#requirement">Requirement</a></li>
                    <li><a href="../../index.html#license">Lisensi</a></li>
                    <li class="divider"></li>
                    <li class="nav-header"><a href="../../config.html" class="muted">Konfigurasi</a></li>
                    <li><a href="../../config.html#general">Dasar</a></li>
                    <li><a href="../../config.html#additional_config">Tambahan</a></li>
                    <li><a href="../../config.html#webserver">Webserver</a></li>
                    <li class="divider"></li>
                    <li class="nav-header">Referensi</li>
                    <li><a href="../../references/controller.html">Controller</a></li>
                    <li><a href="../../references/model.html">Model</a></li>
                    <li><a href="../../references/view.html">View</a></li>
                    <li><a href="../../references/library.html">Library</a></li>
                    <li><a href="../../references/autoloader.html">Auto Loader</a></li>
                    <li><a href="../../references/global_method.html">Global Method dan Properties</a></li>
                    <li><a href="../../references/module.html">Module</a></li>
                    <li><a href="../../references/vendor.html">Vendor</a></li>
                    <li><a href="../../references/upgrade.html">Upgrade</a></li>
                    <li class="divider"></li>
                    <li class="nav-header"><a href="../../classes/index.html" class="muted">Resources</a></li>
                    <li><a href="../../classes/database/index.html">Database</a></li>
                    <li class="active"><a href="index.html">Cache</a></li>
		    <li>
			<ul>
			    <li><a href="#config">Konfigurasi</a></li>
			    <li><a href="#init">Inisialisasi</a></li>
			    <li><a href="#method">Method</a></li>
			    <li><a href="#namespace">Namespace</a></li>
			    <li>
				<a href="#specific">API Spesifik Driver</a>
				<ul>
				    <li><a href="apc.html">APC</a></li>
				    <li><a href="memcache.html">Memcache</a></li>
				    <li><a href="memcached.html">Memcached</a></li>
				    <li><a href="redis.html">Redis</a></li>
				</ul>
			    </li>
			</ul>
		    </li>
                    <li><a href="../../classes/session.html">Session</a></li>
                    <li><a href="../../classes/pagination.html">Pagination</a></li>
                    <li><a href="../../classes/email.html">Email</a></li>
                    <li><a href="../../classes/encryption.html">Encryption</a></li>
                    <li><a href="../../classes/upload.html">Upload</a></li>
                    <li><a href="../../classes/image.html">Image</a></li>
                    <li><a href="../../classes/request.html">Request</a></li>
                    <li><a href="../../classes/rest.html">RESTfull</a></li>
                    <li><a href="../../classes/tools.html">Tools</a></li>
                    <li><a href="../../classes/validation.html">Form Validation</a></li>
                    <li class="divider"></li>
                    <li><a href="../../contribution.html">Kontribusi</a></li>
                    <li><a href="../../credit.html">Credit</a></li>
                </ul>
            </div>
        </div>
      <div class="span9">
        <div class="row-fluid">
            <div class="page-header">
                <h2>Cache</h2>
            </div>
	    <p>Saat ini, driver Obeject Cache yang sudah tersedia adalah <a href="https://github.com/nicolasff/phpredis">Redis</a>, <a href="http://php.net/manual/en/book.apc.php">APC</a>, <a href="http://www.php.net/manual/en/book.memcache.php">Memcache</a> dan <a href="http://www.php.net/manual/en/book.memcached.php">Memcached</a>.</p>
            <p>Sebelum menggunakan library cache, terlebih dahulu harus dilakukan konfigurasi. Bagian konfigurasi database terletak pada file <strong>app/config/cache.php</strong>.</p>
        </div>
	<div class="row-fluid">
	    <div class="page-header">
                <h2 id="config">Konfigurasi</h2>
	    </div>
		<p>Bagian-bagian yang harus dilengkapi <strong>namaKoneksi</strong> dan <strong>driver</strong>.</p>
<pre rows="9" cols="50" class="pre">
return array(
    
    'namaKoneksi' => array(
    
        'driver' => 'apc',
    ),
);
</pre>
		<p>Saat ini pilihan driver yang tersedia adalah <strong>apc</strong>, <strong>memcache</strong> dan <strong>memcached</strong>.</p>
		<p>Sebagai contoh, konfigurasi di atas adalah jika ingin mengunakan APC sebagai cache.</p>
		
		<p>Nilai <strong>default</strong> pada konfigurasi menunjukan koneksi cache default. Jika Anda menginginkan koneksi cache yang lain silahkan tambahkan nama baru pada bagian ini. Sebagai contoh:</p>

<pre rows="26" cols="50" class="pre">
return array(
    
    'default' => array(
    
        'driver' => 'apc',
	
    ),
    
    'memcached' => array(
    
        'driver' => 'memcached',
	
        'server' => array(
	
            array(
	    
                'host' => 'localhost',
		
                'port' => 11211,
		
                'persistent' => false,
            ),
        )
    ),
);
</pre>
		<h4 id="init">Inisialisasi</h4>
		<p>Berikut adalah contoh membuat <em>instance</em> untuk Cache baik itu di dalam model ataupun controller:</p>
<pre rows="16" cols="50" class="pre">
&lt;?php
namespace Models;
Use Resources;

class Comments
{    
    public function __construct()
    {
	// Cache koneksi default
	$this->cache = new Resources\Cache;
	
	// Cache koneksi 2
	$this->cache2 = new Resources\Cache('memcached');
    }
}
</pre>
		
            </div>
	    <div class="row-fluid">
		<div class="page-header">
		    <h2 id="method">Method</h2>
		</div>
		
		<p>Untuk berinteraksi dengan cache driver, berikut adalah API yang tersedia:</p>
		
		<h4>setValue</h4>
		<p>Melakukan penyimpanan data yang akan di-cache.</p>
		<pre class="prettyprint"><strong>mix</strong> $this->cache-><strong>setValue</strong>($key, $value, $expire = 0, $namespace = false);</pre>
		<p>Parameter</p>
                <table class="table table-bordered">
		    <thead>
			<tr>
			    <th scope="col">Variable</th>
			    <th scope="col">Tipe Data</th>
			    <th scope="col">Keterangan</th>
			</tr>
		    </thead>
		<tbody>
		    <tr>
			<td>$key</td>
			<td>string</td>
			<td>Nama key unik sebagai identifier cache.</td>
		    </tr>
		    <tr class="odd">
			<td>$value</td>
			<td>mix</td>
			<td>Nilai yang akan disimpan ke dalam cache.</td>
		    </tr>
                    <tr>
			<td>$expire</td>
			<td>int</td>
			<td>Berapa lama cache akan disimpan dalam satuan detik.</td>
		    </tr>
		    <tr class="odd">
			<td>$namespace</td>
			<td>string</td>
			<td>Key dari namespace yang ingin digunakan.</td>
		    </tr>
                    
		</tbody>
		</table>
		
		<h4>addValue</h4>
		<p>Melakukan penyimpanan data yang akan di-cache hanya jika key yang diberikan belum pernah digunakan sebelumnya. Jika ternyata key-nya sudah digunakan maka nilai returnnya adalah <strong>false</strong>.</p>
		<pre class="prettyprint"><strong>mix</strong> $this->cache-><strong>addValue</strong>($key, $value, $expire = 0, $namespace = false);</pre>
		<p>Parameter</p>
                <table class="table table-bordered">
		    <thead>
			<tr>
			    <th scope="col">Variable</th>
			    <th scope="col">Tipe Data</th>
			    <th scope="col">Keterangan</th>
			</tr>
		    </thead>
		<tbody>
		    <tr>
			<td>$key</td>
			<td>string</td>
			<td>Nama key unik sebagai identifier cache.</td>
		    </tr>
		    <tr class="odd">
			<td>$value</td>
			<td>mix</td>
			<td>Nilai yang akan disimpan ke dalam cache.</td>
		    </tr>
                    <tr>
			<td>$expire</td>
			<td>int</td>
			<td>Berapa lama cache akan disimpan dalam satuan detik.</td>
		    </tr>
		    <tr class="odd">
			<td>$namespace</td>
			<td>string</td>
			<td>Key dari namespace yang ingin digunakan.</td>
		    </tr>
                    
		</tbody>
		</table>
		
		<h4>updateValue</h4>
		<p>Melakukan update data yang sudah di-cache berdasarkan key yang diberikan.</p>
		<pre class="prettyprint"><strong>mix</strong> $this->cache-><strong>updateValue</strong>($key, $value, $expire = 0, $namespace = false);</pre>
		<p>Parameter</p>
                <table class="table table-bordered">
		    <thead>
			<tr>
			    <th scope="col">Variable</th>
			    <th scope="col">Tipe Data</th>
			    <th scope="col">Keterangan</th>
			</tr>
		    </thead>
		<tbody>
		    <tr>
			<td>$key</td>
			<td>string</td>
			<td>Nama key unik sebagai identifier cache.</td>
		    </tr>
		    <tr class="odd">
			<td>$value</td>
			<td>mix</td>
			<td>Nilai yang akan disimpan ke dalam cache.</td>
		    </tr>
                    <tr>
			<td>$expire</td>
			<td>int</td>
			<td>Berapa lama cache akan disimpan dalam satuan detik.</td>
		    </tr>
		    <tr class="odd">
			<td>$namespace</td>
			<td>string</td>
			<td>Key dari namespace yang ingin digunakan.</td>
		    </tr>
                    
		</tbody>
		</table>
		
		<h4>getValue</h4>
		<p>Mendapatkan data yang sudah di-cache berdasarkan key yang diberikan.</p>
		<pre class="prettyprint"><strong>mix</strong> $this->cache-><strong>getValue</strong>($key, $namespace = false);</pre>
		<p>Parameter</p>
                <table class="table table-bordered">
		    <thead>
			<tr>
			    <th scope="col">Variable</th>
			    <th scope="col">Tipe Data</th>
			    <th scope="col">Keterangan</th>
			</tr>
		    </thead>
		<tbody>
		    <tr>
			<td>$key</td>
			<td>string</td>
			<td>Nama key unik sebagai identifier cache.</td>
		    </tr>
		    <tr class="odd">
			<td>$namespace</td>
			<td>string</td>
			<td>Key dari namespace yang ingin digunakan.</td>
		    </tr>
                    
		</tbody>
		</table>
		
		<h4>deleteValue</h4>
		<p>Menghapus data yang sudah di-cache berdasarkan key yang diberikan.</p>
		<pre class="prettyprint"><strong>mix</strong> $this->cache-><strong>deleteValue</strong>($key, $namespace = false);</pre>
		<p>Parameter</p>
                <table class="table table-bordered">
		    <thead>
			<tr>
			    <th scope="col">Variable</th>
			    <th scope="col">Tipe Data</th>
			    <th scope="col">Keterangan</th>
			</tr>
		    </thead>
		<tbody>
		    <tr>
			<td>$key</td>
			<td>string</td>
			<td>Nama key unik sebagai identifier cache.</td>
		    </tr>
		    <tr class="odd">
			<td>$namespace</td>
			<td>string</td>
			<td>Key dari namespace yang ingin digunakan.</td>
		    </tr>
                    
		</tbody>
		</table>
		
		<h4>flushValues</h4>
		<p>Menghapus semua data yang sudah di-cache.</p>
		<pre class="prettyprint"><strong>bool</strong> $this->cache-><strong>flushValues</strong>();</pre>
		
		<h4>incrementBy</h4>
		<p>Melakukan penambahan secara interval dengan nilai tertentu.</p>
		<pre class="prettyprint"><strong>int</strong> $this->cache-><strong>incrementBy</strong>($key, $offset = 1);</pre>
		<p>Parameter</p>
                <table class="table table-bordered">
		    <thead>
			<tr>
			    <th scope="col">Variable</th>
			    <th scope="col">Tipe Data</th>
			    <th scope="col">Keterangan</th>
			</tr>
		    </thead>
		<tbody>
		    <tr>
			<td>$key</td>
			<td>string</td>
			<td>Nama key unik sebagai identifier nilai.</td>
		    </tr>
		    <tr class="odd">
			<td>$offset</td>
			<td>int</td>
			<td>Nilai penambah.</td>
		    </tr>
                    
		</tbody>
		</table>
		
		<h4>decrementBy</h4>
		<p>Melakukan pengurangan secara interval dengan nilai tertentu.</p>
		<pre class="prettyprint"><strong>int</strong> $this->cache-><strong>decrementBy</strong>($key, $offset = 1);</pre>
		<p>Parameter</p>
                <table class="table table-bordered">
		    <thead>
			<tr>
			    <th scope="col">Variable</th>
			    <th scope="col">Tipe Data</th>
			    <th scope="col">Keterangan</th>
			</tr>
		    </thead>
		<tbody>
		    <tr>
			<td>$key</td>
			<td>string</td>
			<td>Nama key unik sebagai identifier nilai.</td>
		    </tr>
		    <tr class="odd">
			<td>$offset</td>
			<td>int</td>
			<td>Nilai penambah.</td>
		    </tr>
                    
		</tbody>
		</table>
		
	    </div>
	    
	    <div class="row-fluid">
		<div class="page-header">
		    <h2 id="namespace">Namespace</h2>
		</div>
		<p>Namespace bisa dignakan jika Anda ingin melakukan modifikasi data cache dengan beberapa key yang berbeda-beda secara bersamaan.</p>
		<p>Sebagai contoh jika ada sebuah data yang Anda tampilkan dengan cara paging.
		Setiap halaman dapat menampung 10 data dimana data ini kemudian disimpan ke dalam cache. Key dari masing-masing halaman misalnya <strong>comment_page_1</strong>, <strong>comment_page_2</strong>, <strong>comment_page_3</strong> ... dst.
		Jika ada data baru yang ingin ditambahkan dan semua data ini perlu di flush, maka untuk melakukan hal ini cukup dengan menghapus namespace-nya saja. Berikut adalah contohnya:</p>
		
<pre class="prettyprint">
&lt;?php
namespace Controllers;
use Resources;

class Home extends Resources\Controller
{    
    public function __construct()
    {
        parent::__construct();
        
        $this->cache = new Resources\Cache();
    }
    
    public function index()
    {
	$namespace = 'comment_id_29';
	
        $key = 'comment_page_1';
	print_r( $this->cache->getValue($key, $namespace) );
	
	$key = 'comment_page_2';
	print_r( $this->cache->getValue($key, $namespace) );
    }
    
    public function addCacheComment()
    {
	$namespace = 'comment_id_29';
	$key = 'comment_page_3';
	
	$comments = array(
	    30 => array(
		'id' => 30,
		'comment' => 'This is my comment'
	    ),
	    31 => array(
		'id' => 31,
		'comment' => 'Enother my comment'
	    ),
	);
	
	$this->cache->setValue( $key, $comments, 0, $namespace );
    }
    
    public function deleteNamespace()
    {
	$namespace = 'comment_id_29';
	$this->cache->deleteValue($namespace);
    }
}
</pre>

	    </div>
	    <div class="row-fluid">
		<div class="page-header">
		    <h2 id="specific">API Spesifik Driver</h2>
		</div>
		<p>Selain dari API yang sudah disediakan, Anda juga bisa menggunakan API yang tersedia dari masing-masing driver.</p>
		<ul>
		    <li><a href="redis.html">Redis</a></li>
		    <li><a href="apc.html">APC</a></li>
		    <li><a href="memcache.html">Memcache</a></li>
		    <li><a href="memcached.html">Memcached</a></li>
		</ul>
	    </div>
	    
	    
	<div class="row-fluid">
            <div class="page-header" id="discussion">
                <h2>Diskusi</h2>
            </div>
	    <div id="disqus_thread"></div>
	</div>
      </div>
    </div>
    <hr>
    <footer>
	<p>Menemukan typo? atau ingin menambahkan informasi di halaman ini? silahkan <a href="https://github.com/panada/documentation/blob/master/classes/cache/index.html">fork dan edit</a>.</p>
    </footer>
</div>
<script>
var disqus_url = 'classes/cache/index.html';
</script>
<script src="../../../jquery.js"></script>
<script src="../../../bootstrap/js/bootstrap.min.js"></script>
<script src="../../../panada.js"></script>
</body>
</html>